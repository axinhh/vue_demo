"use strict";(self["webpackChunkxx_music"]=self["webpackChunkxx_music"]||[]).push([[473],{269:function(t,s,e){e.d(s,{b:function(){return i},t:function(){return c}});var n=e(991);let l=[],a=[];function i(t){for(let s=0;s<t.length;s++)a.push(new Promise(((e,n)=>{r(t[s],e)})));return Promise.all(a).then((()=>(l.sort(((t,s)=>t.tag.charCodeAt()-s.tag.charCodeAt())),l.unshift(l.pop()),l)))}function r(t,s){"热"===t?(0,n.U)("/top/artists",{limit:30}).then((e=>{l.push({tag:t,nameArr:e.artists}),s()})):(0,n.U)("/artist/list",{initial:t,type:-1,area:7}).then((e=>{l.push({tag:t,nameArr:e.artists}),s()}))}function c(t){return(0,n.U)("/artists",{id:t.id})}},2569:function(t,s,e){e.d(s,{Z:function(){return S}});var n=e(6252),l=e(3577),a=e(2262),i=e(9963),r=e(585),c=e(14),o=e(2119),u=e(3907);const p=t=>((0,n.dD)("data-v-73acdbf3"),t=t(),(0,n.Cn)(),t),v=p((()=>(0,n._)("i",{class:"icon-back"},null,-1))),d=[v],g={class:"title"},f={class:"play-btn-wrapper"},m=p((()=>(0,n._)("i",{class:"icon-play"},null,-1))),h={class:"song-list-wrapper"};var y={name:"index",props:{songs:{type:Array,default:[]},listTitle:String,picUrl:String},setup(t){const s=t,e=(0,a.iH)(null),p=(0,a.iH)(0),v=(0,a.iH)(0),y=(0,a.iH)(0),_=(0,a.iH)(!0),w=(0,o.tv)(),S=(0,n.Fl)((()=>!s.songs.length)),U=(0,u.oR)(),b=(0,n.Fl)((()=>U.state.playlist)),k=(0,n.Fl)((()=>{let t="40%",e=0,n=1;return _.value=!0,v.value>y.value&&(t="40px",e=1,_.value=!1),v.value<0&&(n=-v.value/p.value+1),{transform:`scale(${n})`,height:t,zIndex:e,backgroundImage:`url(${s.picUrl?s.picUrl:""})`}})),x=(0,n.Fl)((()=>{let t=0;return v.value>0&&(t=v.value/30),{backdropFilter:`blur(${t}px)`}}));function Z(t){v.value=-t.y}function D(){w.go(-1)}const C=(0,n.Fl)((()=>({top:`${p.value}px`})));function F(){U.dispatch("addAllPlay",s.songs)}const H=(0,n.Fl)((()=>b.value.length?{bottom:"60px"}:{}));return(0,n.bv)((()=>{p.value=e.value.clientHeight,y.value=e.value.clientHeight-40})),(s,o)=>{const u=(0,n.Q2)("loading");return(0,n.wg)(),(0,n.iD)("div",{class:"music-list",style:(0,l.j5)((0,a.SU)(H))},[(0,n._)("div",{class:"back",onClick:D},d),(0,n._)("h1",g,(0,l.zw)(t.listTitle),1),(0,n._)("div",{class:"bg-image",style:(0,l.j5)((0,a.SU)(k)),ref_key:"imageRef",ref:e},[(0,n._)("div",f,[(0,a.SU)(S)?(0,n.kq)("",!0):(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",{key:0,class:"play-btn",onClick:F},[m,(0,n._)("span",{class:"text",onClick:F},"顺序播放全部")],512)),[[i.F8,_.value]])]),(0,n._)("div",{class:"filter",style:(0,l.j5)((0,a.SU)(x))},null,4)],4),(0,n.Wm)((0,a.SU)(c.Z),{class:"list",style:(0,l.j5)((0,a.SU)(C)),probeType:3,onScroll:Z},{default:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",h,[(0,n.Wm)(r.Z,{songs:t.songs},null,8,["songs"])])),[[u,(0,a.SU)(S)]])])),_:1},8,["style"])],4)}}},_=e(3744);const w=(0,_.Z)(y,[["__scopeId","data-v-73acdbf3"]]);var S=w},585:function(t,s,e){e.d(s,{Z:function(){return g}});var n=e(6252),l=e(3577),a=e(3907);const i={class:"song-list"},r=["onClick"],c={class:"content"},o={class:"name"},u={class:"desc"};var p={name:"index",props:["songs"],setup(t){const s=(0,a.oR)();function e(t){return t.ar.map((t=>t.name)).join("-")}function p(t){s.dispatch("addOnePlay",[t])}return(s,a)=>((0,n.wg)(),(0,n.iD)("ul",i,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.songs,(t=>((0,n.wg)(),(0,n.iD)("li",{class:"item",key:t.id,onClick:s=>p(t)},[(0,n._)("div",c,[(0,n._)("h2",o,(0,l.zw)(t.name),1),(0,n._)("p",u,(0,l.zw)(e(t)),1)])],8,r)))),128))]))}},v=e(3744);const d=(0,v.Z)(p,[["__scopeId","data-v-448e757e"]]);var g=d},3473:function(t,s,e){e.r(s),e.d(s,{default:function(){return d}});var n=e(6252),l=e(2262),a=e(2569),i=e(269),r=e(50),c=e(2119);const o={class:"singer-detail"};var u={name:"SingerDetail",props:["singerDetail"],setup(t){const s=t,e=(0,n.Fl)((()=>p.value.picUrl)),u=(0,n.Fl)((()=>p.value.name)),p=(0,l.iH)({}),v=(0,c.yj)(),d=(0,l.iH)([]);return(0,n.bv)((async()=>{const t=v.params.id;r.Z.getSession(t)&&r.Z.getSession(t).id==t||r.Z.setSession(t,s.singerDetail),p.value=r.Z.getSession(t);const e=await(0,i.t)(p.value);d.value=e.hotSongs})),(t,s)=>((0,n.wg)(),(0,n.iD)("div",o,[(0,n.Wm)((0,l.SU)(a.Z),{picUrl:(0,l.SU)(e),listTitle:(0,l.SU)(u),songs:d.value},null,8,["picUrl","listTitle","songs"])]))}},p=e(3744);const v=(0,p.Z)(u,[["__scopeId","data-v-aea7245c"]]);var d=v}}]);