"use strict";(self["webpackChunkxx_music"]=self["webpackChunkxx_music"]||[]).push([[474],{8474:function(a,n,l){l.r(n),l.d(n,{default:function(){return z}});var s=l(6252),e=l(2262),t=l(9963),i=l(3577),u=l(991);function c(){return(0,u.U)("/search/default")}function r(){return(0,u.U)("/search/hot")}function o(a){return(0,u.U)("/search",{keywords:a})}function d(a){return(0,u.U)("/song/detail",{ids:a.id})}var w=l(14),v=l(3907);const h=a=>((0,s.dD)("data-v-3eac0229"),a=a(),(0,s.Cn)(),a),f={class:"search"},p={class:"search-input"},_=h((()=>(0,s._)("i",{class:"icon-search"},null,-1))),k=["placeholder"],m={class:"hot-keys"},y=h((()=>(0,s._)("h1",{class:"title"},"热门搜索",-1))),U=[":key"],g=["onClick"],C={class:"search-result"},D=["onClick"],H=(0,s.Uk)(" - ");var x={name:"Search",setup(a){let n=(0,e.iH)(""),l=(0,e.iH)([]);const u=(0,e.iH)(""),h=(0,v.oR)();function x(a){u.value=a}function S(){u.value=""}function b(a){return a.artists.map((a=>a.name)).join(" & ")}const z=(0,e.iH)([]);async function K(a){const n=await d(a);h.dispatch("addOnePlay",n.songs)}return(0,s.YP)(u,(async a=>{if(!a.trim())return;let n=await o(a);z.value=n.result.songs})),(0,s.bv)((async()=>{let a=await c();n.value=a.data.showKeyword;let s=await r();l.value=s.result.hots})),(a,c)=>((0,s.wg)(),(0,s.iD)("div",f,[(0,s._)("div",p,[_,(0,s.wy)((0,s._)("input",{class:"input-inner","onUpdate:modelValue":c[0]||(c[0]=a=>u.value=a),placeholder:(0,e.SU)(n)},null,8,k),[[t.nr,u.value]]),(0,s.wy)((0,s._)("i",{class:"icon-dismiss",onClick:S},null,512),[[t.F8,u.value.trim()]])]),(0,s._)("div",m,[y,(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,e.SU)(l),(a=>((0,s.wg)(),(0,s.iD)("li",{":key":a,class:"item"},[(0,s._)("span",{onClick:n=>x(a.first)},(0,i.zw)(a.first),9,g)],8,U)))),256))])]),(0,s.wy)((0,s._)("div",C,[(0,s.Wm)((0,e.SU)(w.Z),{class:"result-wrapper"},{default:(0,s.w5)((()=>[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(z.value,(a=>((0,s.wg)(),(0,s.iD)("li",{key:a,onClick:n=>K(a)},[(0,s._)("span",null,(0,i.zw)(a.name),1),H,(0,s._)("span",null,(0,i.zw)(b(a)),1)],8,D)))),128))])])),_:1})],512),[[t.F8,u.value.trim()]])]))}},S=l(3744);const b=(0,S.Z)(x,[["__scopeId","data-v-3eac0229"]]);var z=b}}]);