"use strict";(self["webpackChunkxx_music"]=self["webpackChunkxx_music"]||[]).push([[71],{109:function(n,t,l){l.d(t,{Ao:function(){return a},hC:function(){return i},lO:function(){return e}});var s=l(991);function e(){return(0,s.U)("/banner",{type:2})}function i(){return(0,s.U)("/top/playlist",{limit:30})}async function a(n){const t=await(0,s.U)("/playlist/detail",{id:n.id});let l=t.playlist.trackIds;l.length=Math.min(50,l.length);let e=[];return l.forEach((n=>{e.push(new Promise(((t,l)=>{o(n,t)})))})),Promise.all(e).then((n=>({hotSongs:n})))}function o(n,t){(0,s.U)("/song/detail",{ids:n.id}).then((n=>{t(n.songs[0])}))}},4863:function(n,t,l){l.d(t,{Z:function(){return o}});var s=l(6252),e=l(2262),i=l(50),a=l(2119);function o(n,t,l){const o=(0,s.Fl)((()=>r.value.picUrl)),c=(0,s.Fl)((()=>r.value.name)),r=(0,e.iH)({}),u=(0,a.yj)(),p=(0,e.iH)([]);return(0,s.bv)((async()=>{const s=u.params.id;i.Z.getSession(s)&&i.Z.getSession(s).id==s?r.value=i.Z.getSession(s):(i.Z.setSession(s,n[t]),r.value=n[t]);const e=await l(r.value);p.value=e.hotSongs})),{picUrl:o,listTitle:c,songs:p}}},2569:function(n,t,l){l.d(t,{Z:function(){return w}});var s=l(6252),e=l(3577),i=l(2262),a=l(9963),o=l(585),c=l(14),r=l(2119),u=l(3907);const p=n=>((0,s.dD)("data-v-73acdbf3"),n=n(),(0,s.Cn)(),n),d=p((()=>(0,s._)("i",{class:"icon-back"},null,-1))),v=[d],g={class:"title"},f={class:"play-btn-wrapper"},y=p((()=>(0,s._)("i",{class:"icon-play"},null,-1))),m={class:"song-list-wrapper"};var h={name:"index",props:{songs:{type:Array,default:[]},listTitle:String,picUrl:String},setup(n){const t=n,l=(0,i.iH)(null),p=(0,i.iH)(0),d=(0,i.iH)(0),h=(0,i.iH)(0),U=(0,i.iH)(!0),_=(0,r.tv)(),w=(0,s.Fl)((()=>!t.songs.length)),S=(0,u.oR)(),k=(0,s.Fl)((()=>S.state.playlist)),b=(0,s.Fl)((()=>{let n="40%",l=0,s=1;return U.value=!0,d.value>h.value&&(n="40px",l=1,U.value=!1),d.value<0&&(s=-d.value/p.value+1),{transform:`scale(${s})`,height:n,zIndex:l,backgroundImage:`url(${t.picUrl?t.picUrl:""})`}})),Z=(0,s.Fl)((()=>{let n=0;return d.value>0&&(n=d.value/30),{backdropFilter:`blur(${n}px)`}}));function x(n){d.value=-n.y}function D(){_.go(-1)}const F=(0,s.Fl)((()=>({top:`${p.value}px`})));function H(){S.dispatch("addAllPlay",t.songs)}const C=(0,s.Fl)((()=>k.value.length?{bottom:"60px"}:{}));return(0,s.bv)((()=>{p.value=l.value.clientHeight,h.value=l.value.clientHeight-40})),(t,r)=>{const u=(0,s.Q2)("loading");return(0,s.wg)(),(0,s.iD)("div",{class:"music-list",style:(0,e.j5)((0,i.SU)(C))},[(0,s._)("div",{class:"back",onClick:D},v),(0,s._)("h1",g,(0,e.zw)(n.listTitle),1),(0,s._)("div",{class:"bg-image",style:(0,e.j5)((0,i.SU)(b)),ref_key:"imageRef",ref:l},[(0,s._)("div",f,[(0,i.SU)(w)?(0,s.kq)("",!0):(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:0,class:"play-btn",onClick:H},[y,(0,s._)("span",{class:"text",onClick:H},"顺序播放全部")],512)),[[a.F8,U.value]])]),(0,s._)("div",{class:"filter",style:(0,e.j5)((0,i.SU)(Z))},null,4)],4),(0,s.Wm)((0,i.SU)(c.Z),{class:"list",style:(0,e.j5)((0,i.SU)(F)),probeType:3,onScroll:x},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",m,[(0,s.Wm)(o.Z,{songs:n.songs},null,8,["songs"])])),[[u,(0,i.SU)(w)]])])),_:1},8,["style"])],4)}}},U=l(3744);const _=(0,U.Z)(h,[["__scopeId","data-v-73acdbf3"]]);var w=_},585:function(n,t,l){l.d(t,{Z:function(){return g}});var s=l(6252),e=l(3577),i=l(3907);const a={class:"song-list"},o=["onClick"],c={class:"content"},r={class:"name"},u={class:"desc"};var p={name:"index",props:["songs"],setup(n){const t=(0,i.oR)();function l(n){return n.ar.map((n=>n.name)).join("-")}function p(n){t.dispatch("addOnePlay",[n])}return(t,i)=>((0,s.wg)(),(0,s.iD)("ul",a,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.songs,(n=>((0,s.wg)(),(0,s.iD)("li",{class:"item",key:n.id,onClick:t=>p(n)},[(0,s._)("div",c,[(0,s._)("h2",r,(0,e.zw)(n.name),1),(0,s._)("p",u,(0,e.zw)(l(n)),1)])],8,o)))),128))]))}},d=l(3744);const v=(0,d.Z)(p,[["__scopeId","data-v-448e757e"]]);var g=v},3071:function(n,t,l){l.r(t),l.d(t,{default:function(){return d}});var s=l(6252),e=l(2262),i=l(2569),a=l(4863),o=l(109);const c={class:"singer-detail"};var r={name:"TopDetail",props:["topListDetail"],setup(n){const t=n,{picUrl:l,listTitle:r,songs:u}=(0,a.Z)(t,"topListDetail",o.Ao);return(n,t)=>((0,s.wg)(),(0,s.iD)("div",c,[(0,s.Wm)((0,e.SU)(i.Z),{picUrl:(0,e.SU)(l),listTitle:(0,e.SU)(r),songs:(0,e.SU)(u)},null,8,["picUrl","listTitle","songs"])]))}},u=l(3744);const p=(0,u.Z)(r,[["__scopeId","data-v-9d71863c"]]);var d=p}}]);